---
import ContentBlock from '@/components/ContentBlock.vue';
import CircleAnimation from '@/components/CircleAnimation.vue';

const bg = (image) => `background-image: url('${image}');`;

const { data } = Astro.props;
---

<ContentBlock class="bg-white py-14 md:py-6 md:hidden">

    <h1 class="alpha mb-11 text-center text-black-600">
        { data.primary.title }
    </h1>

    <div class="flex gap-10 justify-between flex-wrap relative z-10">
        {
            data.items.map((item) => (
                <Fragment>
                    <div class="max-w-[257px] mx-auto w-full">
                        <div style={bg(item.image.url)} class="bg-no-repeat bg-cover relative flex items-center justify-center mb-8 rounded-lg w-[257px] h-[257px]">
                            <div class="absolute w-full h-full bg-gradient-to-br from-black to-transparent rounded-lg"></div>
                            <p class="font-bold relative">{ item.title }</p>
                        </div>
                        <p class="text-black-600 text-lg">
                            { item.description }
                        </p>
                    </div>
                </Fragment>
            ))
        }
    </div>

    <CircleAnimation client:load class="-top-6 left-[20%]"></CircleAnimation>
    <CircleAnimation client:load class="top-20 -right-8"></CircleAnimation>
    <CircleAnimation client:load class="bottom-10 -left-[10%] 5xl:-left-2 5xl:-bottom-20"></CircleAnimation>

</ContentBlock>