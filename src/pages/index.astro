---
import { init } from '../prismic.js'

//components
import BaseLayout from '@/layouts/BaseLayout.astro';
import Hero from '@/components/Hero.astro';
import ContentBlock from '@/components/ContentBlock.vue';
import Fazemos from '@/components/Fazemos.vue';
import Resultados from '@/components/Resultados.vue';
import CTA from '@/components/CTA.vue';
import OutrosParceiros from '@/components/OutrosParceiros.vue';

import IniciativasGrid from '@/components/IniciativasGrid.vue';

const data = await init('home');

const ctaBgImg = `background-image: url('${data[3].primary.background_image.url}')`

---

<BaseLayout title="Home">

	<Hero data={data[0]} slot="header"></Hero>

    <ContentBlock class="bg-white py-14 md:hidden">
		<Fazemos data={data[1]}></Fazemos>
    </ContentBlock>

	<ContentBlock class="bg-white py-14 md:py-8 md:px-6">
		<Resultados data={data[2]}  client:visible></Resultados>
	</ContentBlock>
	
	<ContentBlock class="bg-black-600 bg-no-repeat bg-cover py-28 px-26 3xl:p-14 md:p-6" style={ctaBgImg}>
		<CTA data={data[3]} client:load ></CTA>
	</ContentBlock>

	<ContentBlock class="bg-black-700/20 py-14 md:py-8 md:bg-white md:px-6">
		<OutrosParceiros client:visible data={data[4]}></OutrosParceiros>
	</ContentBlock>
	
	<ContentBlock class="bg-black-600 py-14 md:py-8 md:px-6">
		<IniciativasGrid  data={data[5]}></IniciativasGrid>
	</ContentBlock>

</BaseLayout>
